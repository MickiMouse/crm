(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-796fa1e3"],{"22cf":function(a,t,s){},"74c0":function(a,t,s){"use strict";var o=s("22cf"),e=s.n(o);e.a},a55b:function(a,t,s){"use strict";s.r(t);var o=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row align-items-center justify-content-center form-wrapper"},[s("form",{staticClass:"col-sm-4",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),a.submitForm(t)}}},[s("b-form",{on:{submit:function(a){a.stopPropagation(),a.preventDefault()}}},[s("label",{attrs:{for:"email"}},[a._v("Email")]),s("b-input",{attrs:{state:a.emailValidation,id:"email"},model:{value:a.email,callback:function(t){a.email=t},expression:"email"}}),s("b-form-invalid-feedback",{attrs:{state:a.emailValidation}},[a._v("\n                    Invalid email\n                ")]),s("b-form-valid-feedback",{attrs:{state:a.emailValidation}},[a._v("\n                    Looks Good.\n                ")]),s("label",{attrs:{for:"password"}},[a._v("Password")]),s("b-input",{attrs:{state:a.passwordValidation,type:"password",id:"password"},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),s("b-form-invalid-feedback",{attrs:{state:a.passwordValidation}},[a._v("\n                    Password length must be from 8 and more\n                ")]),s("b-form-valid-feedback",{attrs:{state:a.passwordValidation}},[a._v("\n                    Looks Good.\n                ")])],1),s("b-button",{attrs:{variant:"success",type:"submit"}},[a._v("Войти")])],1)])])},e=[],i=s("bc3a"),n=s.n(i),r={name:"Login",data:function(){return{email:"",password:""}},computed:{emailValidation:function(){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(this.email)},passwordValidation:function(){return this.password.length>8}},methods:{submitForm:function(){var a=this;this.emailValidation&&this.passwordValidation&&n.a.post("".concat(this.$hostname,"/api/login/ "),{email:this.email,password:this.password}).then((function(t){console.log(t.data),200===t.status&&(console.log(t),a.$session.start(),a.$session.set("jwt",t.data.access_token),a.$session.set("username",t.data.username),a.$session.set("role",t.data.role),n.a.defaults.headers.common["Authorization"]="Token "+a.$session.get("jwt"),a.$router.push("/dashboard"))})).catch((function(a){}))}},beforeCreate:function(){this.$session.destroy(),this.$router.push("/"),n.a.defaults.headers.common["Authorization"]=""}},l=r,d=(s("74c0"),s("2877")),c=Object(d["a"])(l,o,e,!1,null,"2d5aa3f4",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-796fa1e3.6961b3a3.js.map